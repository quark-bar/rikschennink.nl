define(["chart","utils/toArray"],function(t,e){"use strict";var o=function(t,e){this._element=t,this._options=e,this._chart=null,this._init()};return o.options={lineColor:"#333",pointColor:"#333",gridColor:"#eee",axisColor:"#333",fontColor:"#333"},o.prototype={_init:function(){var o=this._element.getElementsByTagName("table")[0],i=e(this._element.getElementsByTagName("tbody")[0].getElementsByTagName("th")),n=i.map(function(t){return t.textContent}),l=e(this._element.getElementsByTagName("td")),s=l.map(function(t){return parseInt(t.getAttribute("data-value"),10)}),a=document.createElement("canvas");a.width=this._element.offsetWidth,a.height=.35*a.width,this._element.style.display="none",this._element.appendChild(a),o.style.display="none";var r=a.getContext("2d");this._element.style.display="",this._chart=new t(r).Line({labels:n,datasets:[{label:o.getAttribute("summary"),strokeColor:this._options.lineColor,pointColor:this._options.pointColor,pointStrokeColor:this._options.lineColor,pointHighlightFill:this._options.lineColor,pointHighlightStroke:this._options.pointColor,data:s}]},{animation:!1,responsive:!0,showTooltips:!1,datasetFill:!1,pointDotStrokeWidth:2,scaleGridLineColor:this._options.gridColor,scaleGridLineWidth:2,scaleFontColor:this._options.fontColor,scaleLineColor:this._options.axisColor,scaleFontSize:16,scaleFontFamily:this._options.axisFont,scaleLineWidth:2})},unload:function(){this._element.removeChild(this._element.querySelector("canvas")),this._element.querySelector("table").style.display="",this._chart.destroy(),this._chart=null}},t.noConflict(),o});