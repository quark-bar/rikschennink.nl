!function(a,b){function c(){for(var a=document.querySelectorAll(".soon"),b=0,c=a.length;c>b;b++)d.createByElement(a[b])}if(document.querySelectorAll){var d={},e={},f={},g={};e=function(){Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c;if(null==this)throw new TypeError('"this" is null or not defined');var d=Object(this),e=d.length>>>0;if(0===e)return-1;var f=+b||0;if(1/0===Math.abs(f)&&(f=0),f>=e)return-1;for(c=Math.max(f>=0?f:e-Math.abs(f),0);e>c;){if(c in d&&d[c]===a)return c;c++}return-1}),function(){function a(a){this.el=a;for(var b=a.className.replace(/^\s+|\s+$/g,"").split(/\s+/),c=0;c<b.length;c++)d.call(this,b[c])}function b(a,b,c){Object.defineProperty?Object.defineProperty(a,b,{get:c}):a.__defineGetter__(b,c)}if(!("undefined"==typeof window.Element||"classList"in document.documentElement)){var c=Array.prototype,d=c.push,e=c.splice,f=c.join;a.prototype={add:function(a){this.contains(a)||(d.call(this,a),this.el.className=this.toString())},contains:function(a){return-1!=this.el.className.indexOf(a)},item:function(a){return this[a]||null},remove:function(a){if(this.contains(a)){for(var b=0;b<this.length&&this[b]!=a;b++);e.call(this,b,1),this.el.className=this.toString()}},toString:function(){return f.call(this," ")},toggle:function(a){return this.contains(a)?this.remove(a):this.add(a),this.contains(a)}},window.DOMTokenList=a,b(Element.prototype,"classList",function(){return new a(this)})}}(),function(){for(var a=0,b=["webkit","moz"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}();var a=function(){var a=!1,b="animation",c="",d="Webkit Moz O ms Khtml".split(" "),e="",f=0,g=document.body,h=d.length;if(void 0!==g.style.animationName&&(a=!0),a===!1)for(;h>f;f++)if(void 0!==g.style[d[f]+"AnimationName"]){e=d[f],b=e+"Animation",c="-"+e.toLowerCase()+"-",a=!0;break}return a}(),b=1,c=1e3*b,d=60*c,e=60*d,f=24*e,g=365*f,h={MAX:{y:100,d:365,h:24,m:60,s:60,ms:1e3},AMOUNT:{y:g,d:f,h:e,m:d,s:c,ms:b},CIRC:2*Math.PI,QUART:.5*Math.PI,setText:null,isSlow:function(){return!("textContent"in document.body)},supportsAnimation:function(){return a},toArray:function(a){return Array.prototype.slice.call(a)},toBoolean:function(a){return"string"==typeof a?"true"===a:a},prefix:function(){for(var a,b=["webkit","Moz","ms","O"],c=0,d=b.length,e=document.createElement("div").style;d>c;c++)if(a=b[c]+"Transform",a in e)return b[c];return null}(),setTransform:function(a,b){a.style[this.prefix+"Transform"]=b,a.style.transform=b},setTransitionDelay:function(a,b){a.style[this.prefix+"TransitionDelay"]=b+","+b+","+b,a.style.TransitionDelay=b+","+b+","+b},getShadowProperties:function(a){if(a=a?a.match(/(-?\d+px)|(rgba\(.+\))|(rgb\(.+\))|(#[abcdef\d]+)/g):null,!a)return null;for(var b,c=0,d=a.length,e=[];d>c;c++)-1!==a[c].indexOf("px")?e.push(parseInt(a[c],10)):b=a[c];return e.push(b),e},getDevicePixelRatio:function(){return window.devicePixelRatio||1},triggerAnimation:function(a,b){a.classList.remove(b),window.requestAnimationFrame(function(){a.offsetLeft,a.classList.add(b)})},getBackingStoreRatio:function(a){return a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1},drawShadow:function(a,b,c,d,e){a.shadowOffsetX=b,a.shadowOffsetY=c,a.shadowBlur=d,a.shadowColor=e},drawArc:function(a,b,c,d,e,f,g,h,i){a.beginPath(),a.lineWidth=g,a.strokeStyle=h,a.arc(b,c,d,-this.QUART+this.CIRC*e,-this.QUART+this.CIRC*f,!1),a.lineCap=i,a.stroke()},drawRing:function(a,b,c,d,e,f,g,h,i,j,k,l,m){d=1-d,d=Math.max(e,d);var n=c+.5*d,o=c+(1-.5*d),p=n+b*(1-d);a.save(),k&&this.drawShadow(a,k[0],k[1],k[2],k[3]),this.drawArc(a,f,f,g,n,p-e*b,h,i,m),a.restore(),a.save(),l&&this.drawShadow(a,l[0],l[1],l[2],l[3]),this.drawArc(a,f,f,g,p+e*(1-b),o,h,j,m),a.restore()}};return h.setTextContent="textContent"in document.body?function(a,b){a.textContent=b}:function(a,b){a.innerText=b},h.dateFromISO=function(a){var b=Date.parse,c=[1,4,5,6,7,10,11];return function(d){var e,f,g=0;if(f=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(d)){for(var h,i=0;h=c[i];++i)f[h]=+f[h]||0;f[2]=(+f[2]||1)-1,f[3]=+f[3]||1,"Z"!==f[8]&&f[9]!==a&&(g=60*f[10]+f[11],"+"===f[9]&&(g=0-g)),e=Date.UTC(f[1],f[2],f[3],f[4],f[5]+g,f[6],f[7])}else e=b?b(d):0/0;return new Date(e)}}(),h}(),g.cap=function(a,b){return a=a||0,b=b||1,function(c){return Math.min(Math.max(c,a),b)}},g.chain=function(a){return function(){var b,c=a.toArray(arguments),d=c.length;return function(a){for(b=0;d>b;b++)a=c[b](a);return a}}}(e),g.chars=function(){return function(a){return(a+"").split("")}},g.diff=function(a){return function(b){return a-b}},g.duplicate=function(a){var b,c=new Array(a);return function(d){for(b=a;b--;)c[b]=d;return c}},g.duration=function(a){return function(b,c){var d={y:0,d:0,h:0,m:0,s:0,ms:0},e=b.length,f=-1===b.indexOf("y"),g=-1===b.indexOf("d"),h=-1===b.indexOf("h"),i=-1===b.indexOf("m"),j=-1===b.indexOf("s");return function(k){d.y=Math.floor(k/a.AMOUNT.y),k%=a.AMOUNT.y,d.d=Math.floor(k/a.AMOUNT.d),c&&f&&(d.d+=365*d.y),k%=a.AMOUNT.d,d.h=Math.floor(k/a.AMOUNT.h),c&&g&&(d.h+=24*d.d),k%=a.AMOUNT.h,d.m=Math.floor(k/a.AMOUNT.m),c&&h&&(d.m+=60*d.h),k%=a.AMOUNT.m,d.s=Math.floor(k/a.AMOUNT.s),c&&i&&(d.s+=60*d.m),k%=a.AMOUNT.s,d.ms=Math.floor(k/a.AMOUNT.ms),c&&j&&(d.ms+=1e3*d.s);for(var l=[],m=0;e>m;m++)l.push(Math.max(0,d[b[m]]));return l}}}(e),g.event=function(a,b){return function(c){return a(c)&&b(),c}},g.modulate=function(a){return function(b){return parseInt(b,10)%2===0?a:""}},g.now=function(){return function(){return(new Date).getTime()}},g.offset=function(a){return function(b){return a+b}},g.pad=function(a){return a=a||"",function(b){return(a+b).slice(-a.length)}},g.plural=function(a,b){return function(c){return 1===parseInt(c,10)?a:b}},g.progress=function(a,b){return function(c){return c=parseInt(c,10),b>a?c/b:(a-c)/a}},f.Console=function(){var a=function(a){this._transform=a.transform||function(a){return a}};return a.prototype={destroy:function(){return null},getElement:function(){return null},setValue:function(a){console.log(this._transform(a))}},a}(),f.Fill=function(a){var b=function(a){this._wrapper=document.createElement("span"),this._wrapper.className="soon-fill "+(a.className||""),this._transform=a.transform||function(a){return a},this._direction="to-top";for(var b=0,c=a.modifiers.length;c>b;b++)if(0===a.modifiers[b].indexOf("to-")){this._direction=a.modifiers[b];break}this._fill=document.createElement("span"),this._fill.className="soon-fill-inner",this._progress=document.createElement("span"),this._progress.className="soon-fill-progress",this._fill.appendChild(this._progress),this._wrapper.appendChild(this._fill)};return b.prototype={destroy:function(){return this._wrapper},getElement:function(){return this._wrapper},setValue:function(b){var c,d=this._transform(b);switch(this._direction){case"to-top":c="translateY("+(100-100*d)+"%)";break;case"to-top-right":c="scale(1.45) rotateZ(-45deg) translateX("+(-100+100*d)+"%)";break;case"to-top-left":c="scale(1.45) rotateZ(45deg) translateX("+(100-100*d)+"%)";break;case"to-left":c="translateX("+(100-100*d)+"%)";break;case"to-right":c="translateX("+(-100+100*d)+"%)";break;case"to-bottom-right":c="scale(1.45) rotateZ(45deg) translateX("+(-100+100*d)+"%)";break;case"to-bottom-left":c="scale(1.45) rotateZ(-45deg) translateX("+(100-100*d)+"%)";break;case"to-bottom":c="translateY("+(-100+100*d)+"%)"}a.setTransform(this._progress,c)}},b}(e),f.Flip=function(a){var b=function(b){this._wrapper=document.createElement("span"),this._wrapper.className="soon-flip "+(b.className||""),this._transform=b.transform||function(a){return a},this._inner=document.createElement("span"),this._inner.className="soon-flip-inner",this._card=document.createElement("span"),this._card.className="soon-flip-card",a.supportsAnimation()?(this._front=document.createElement("span"),this._front.className="soon-flip-front soon-flip-face",this._back=document.createElement("span"),this._back.className="soon-flip-back soon-flip-face",this._card.appendChild(this._front),this._card.appendChild(this._back),this._top=document.createElement("span"),this._top.className="soon-flip-top soon-flip-face",this._card.appendChild(this._top),this._bottom=document.createElement("span"),this._bottom.className="soon-flip-bottom soon-flip-face",this._card.appendChild(this._bottom)):(this._fallback=document.createElement("span"),this._fallback.className="soon-flip-fallback",this._card.appendChild(this._fallback)),this._bounding=document.createElement("span"),this._bounding.className="soon-flip-bounding",this._card.appendChild(this._bounding),this._inner.appendChild(this._card),this._wrapper.appendChild(this._inner),this._frontValue=null,this._backValue=null,this._boundingLength=0};return b.prototype={_setBoundingForValue:function(a){var b=(a+"").length;if(b!==this._boundingLength){this._boundingLength=b;for(var c="",d=0;b>d;d++)c+="8";this._bounding.textContent=c;var e=parseInt(getComputedStyle(this._card).fontSize,10),f=this._bounding.offsetWidth/e;this._inner.style.width=f+.1*(b-1)+"em"}},destroy:function(){return this._wrapper},getElement:function(){return this._wrapper},setValue:function(b){return b=this._transform(b),a.supportsAnimation()?this._frontValue?void(this._backValue&&this._backValue===b||this._frontValue===b||(this._backValue&&(this._bottom.textContent=this._backValue,this._front.textContent=this._backValue,this._frontValue=this._backValue),this._setBoundingForValue(b),this._top.textContent=b,this._back.textContent=b,this._backValue=b,a.triggerAnimation(this._inner,"soon-flip-animate"))):(this._bottom.textContent=b,this._front.textContent=b,this._frontValue=b,void this._setBoundingForValue(b)):(this._fallback.textContent=b,void this._setBoundingForValue(b))}},b}(e),f.Group=function(a){var b=function(a){this._wrapper=document.createElement("span"),this._wrapper.className="soon-group "+(a.className||""),this._inner=document.createElement("span"),this._inner.className="soon-group-inner",this._wrapper.appendChild(this._inner),this._transform=a.transform||function(a){return a},this._presenters=a.presenters,this._presenterStorage=[]};return b.prototype={destroy:function(){for(var a=this._presenterStorage.length-1;a>=0;a--)this._presenterStorage[a].destroy();return this._wrapper},getElement:function(){return this._wrapper},setValue:function(b){b=this._transform(b);for(var c,d=0,e=b instanceof Array,f=e?b.length:this._presenters.length;f>d;d++)c=this._presenterStorage[d],c||(c=a.getPresenter(this._presenters[d]),this._inner.appendChild(c.getElement()),this._presenterStorage[d]=c),c.setValue(e?b[d]:b)}},b}(d),f.Interval=function(a,b){var c=function(b){this._target=b.target||1,this._className=b.className,this._transform=b.transform||function(a){return a},this._presenter=a.getPresenter(b.presenter),this._lastTick=0,this._current=null,this._destroyed=!1;var c=this;window.requestAnimationFrame(function(a){c._lastTick=a,c._tick(a)})};return c.prototype={destroy:function(){return this._destroyed=!0,this._presenter.getElement()},_tick:function(a){if(!this._destroyed){null!==this._target&&this._update(a),this._lastTick=a;var c=this;b.requestAnimation(function(a){c._tick(a)})}},_update:function(a){var b=a-this._lastTick;this._current<this._target?(this._current+=b,this._current>this._target&&(this._current=this._target)):(this._current-=b,this._current<this._target&&(this._current=this._target)),this._presenter.setValue(Math.round(this._current))},getElement:function(){var a=this._presenter.getElement();return a.className+=" "+this._className,a},setValue:function(a){this._current=this._transform(a)}},c}(d,e),f.Matrix=function(){for(var a,b={0:[[0,1,1,1,0],[1,1,0,1,1],[1,1,0,1,1],[1,1,0,1,1],[1,1,0,1,1],[1,1,0,1,1],[0,1,1,1,0]],1:[[0,0,1,1,0],[0,1,1,1,0],[0,0,1,1,0],[0,0,1,1,0],[0,0,1,1,0],[0,0,1,1,0],[0,1,1,1,1]],2:[[0,1,1,1,0],[1,1,0,1,1],[0,0,0,1,1],[0,0,1,1,0],[0,1,1,0,0],[1,1,0,0,0],[1,1,1,1,1]],3:[[0,1,1,1,0],[1,1,0,1,1],[0,0,0,1,1],[0,0,1,1,0],[0,0,0,1,1],[1,1,0,1,1],[0,1,1,1,0]],4:[[0,0,1,1,1],[0,1,0,1,1],[1,1,0,1,1],[1,1,1,1,1],[0,0,0,1,1],[0,0,0,1,1],[0,0,0,1,1]],5:[[1,1,1,1,1],[1,1,0,0,0],[1,1,0,0,0],[1,1,1,1,0],[0,0,0,1,1],[1,1,0,1,1],[0,1,1,1,0]],6:[[0,1,1,1,0],[1,1,0,0,0],[1,1,1,1,0],[1,1,0,1,1],[1,1,0,1,1],[1,1,0,1,1],[0,1,1,1,0]],7:[[1,1,1,1,1],[0,0,0,1,1],[0,0,0,1,1],[0,0,1,1,0],[0,1,1,0,0],[1,1,0,0,0],[1,1,0,0,0]],8:[[0,1,1,1,0],[1,1,0,1,1],[1,1,0,1,1],[0,1,1,1,0],[1,1,0,1,1],[1,1,0,1,1],[0,1,1,1,0]],9:[[0,1,1,1,0],[1,1,0,1,1],[1,1,0,1,1],[1,1,0,1,1],[0,1,1,1,1],[0,0,0,1,1],[0,1,1,1,0]]},c=b[0].length,d=b[0][0].length,e=0,f="";c>e;e++){for(f+='<span class="soon-matrix-row">',a=0;d>a;a++)f+='<span class="soon-matrix-dot"></span>';f+="</span>"}var g=function(a){this._wrapper=document.createElement("span"),this._wrapper.className="soon-matrix "+(a.className||""),this._inner=document.createElement("span"),this._inner.className="soon-matrix-inner",this._wrapper.appendChild(this._inner),this._transform=a.transform||function(a){return a},this._value=[]};return g.prototype={destroy:function(){return this._wrapper},getElement:function(){return this._wrapper},_addChar:function(){var a=document.createElement("span");return a.className="soon-matrix-char",a.innerHTML=f,{node:a,ref:[]}},_updateChar:function(a,e){var f,g=b[e],h=0,i=a.ref;if(!i.length)for(var j=a.node.getElementsByClassName("soon-matrix-dot");c>h;h++)for(i[h]=[],f=0;d>f;f++)i[h][f]=j[h*d+f];for(;c>h;h++)for(f=0;d>f;f++)i[h][f].setAttribute("data-state",1===g[h][f]?"1":"0")},setValue:function(a){a=this._transform(a),a+="",a=a.split("");for(var b=0,c=a.length;c>b;b++){var d=this._value[b];d||(d=this._addChar(),this._inner.appendChild(d.node),this._value[b]=d),this._updateChar(d,a[b])}}},g}(),f.Repeater=function(a){var b=function(b){this._wrapper=document.createElement("span"),this._wrapper.className="soon-repeater "+(b.className||""),this._delay=b.delay||0,this._transform=b.transform||function(a){return a},this._destroyed=!1,this._presenter=b.presenter,this._Presenter=a.getPresenterByType(this._presenter.type),this._prepend="undefined"==typeof b.prepend?!0:b.prepend,this._presenterStorage=[]};return b.prototype={destroy:function(){this._destroyed=!0;for(var a=this._presenterStorage.length-1;a>=0;a--)this._presenterStorage[a].destroy();return this._wrapper},getElement:function(){return this._wrapper},setValue:function(a){a=this._transform(a),a=a instanceof Array?a:[a],this._prepend&&a.reverse();for(var b,c,d=0,e=a.length,f=0;e>d;d++)b=this._presenterStorage[d],b||(b=new this._Presenter(this._presenter.options||{}),0!==this._wrapper.children.length&&this._prepend?this._wrapper.insertBefore(b.getElement(),this._wrapper.firstChild):this._wrapper.appendChild(b.getElement()),this._presenterStorage[d]=b,this._delay&&(f-=this._delay)),this._delay?(this._setValueDelayed(b,a[d],f),f+=this._delay):b.setValue(a[d]);for(e=this._wrapper.children.length;e>d;d++)b=this._presenterStorage[d],c=b.destroy(),c.parentNode.removeChild(c),this._presenterStorage[d]=null},_setValueDelayed:function(a,b,c){setTimeout(function(){a.setValue(b)},c)}},b}(d),f.Ring=function(a){var b=function(b){this._wrapper=document.createElement("span"),this._wrapper.className="soon-ring "+(b.className||""),this._transform=b.transform||function(a){return a},this._modifiers=b.modifiers,this._canvas=document.createElement("canvas"),this._canvas.className="soon-ring-progress",this._wrapper.appendChild(this._canvas),this._current=0,this._target=null,this._destroyed=!1,this._styles=null;var c=this;a.supportsAnimation()&&window.requestAnimationFrame(function(){c._tick()}),window.addEventListener&&window.addEventListener("resize",function(){c._resize()})};return b.prototype={destroy:function(){return this._destroyed=!0,this._wrapper},getElement:function(){return this._wrapper},_getModifier:function(a){var b=this._modifiers.join(""),c=b.match(new RegExp(a+"-[\\d.]+"));return c&&c[0]?parseFloat(c[0].split("-")[1])/100:(c=b.match(new RegExp(a)),c&&c[0]?!0:null)},_setupStyles:function(){var b=window.getComputedStyle(this._canvas);this._styles={offset:this._getModifier("offset")||0,gap:this._getModifier("gap")||0,length:this._getModifier("length")||1,flip:this._getModifier("flip")||!1,size:0,radius:0,padding:parseInt(b.getPropertyValue("padding-bottom"),10)||0,cap:0===parseInt(b.getPropertyValue("border-top-right-radius"),10)?"butt":"round",progress:b.getPropertyValue("color")||"#000",ringWidth:parseInt(b.getPropertyValue("border-bottom-width"),10)||2,ringColor:b.getPropertyValue("background-color")||"#fff",progressShadow:a.getShadowProperties(b.getPropertyValue("text-shadow")),ringShadow:a.getShadowProperties(b.getPropertyValue("box-shadow"))},this._canvas.setAttribute("style","padding:0 !important;border-width:0 !important;background-color:transparent !important;box-shadow:none !important;text-shadow:none !important;");var c=this;setTimeout(function(){c._resize()},0)},_resize:function(){var b=this._canvas.getContext("2d"),c=this._canvas.parentNode.clientWidth,d=a.getDevicePixelRatio(),e=a.getBackingStoreRatio(b),f=d/e;c&&(d!==e?(this._canvas.width=c*f,this._canvas.height=c*f,this._canvas.style.width=c+"px",this._canvas.style.height=c+"px",b.scale(f,f)):(this._canvas.width=c,this._canvas.height=c),this._styles.size=.5*c,this._styles.radius=this._styles.size-.5*this._styles.ringWidth-this._styles.padding)},_tick:function(){if(!this._destroyed){null!==this._target&&this._draw();var a=this;window.requestAnimationFrame(function(){a._tick()})}},_draw:function(){var b=this._canvas.getContext("2d");b.clearRect(0,0,this._canvas.width,this._canvas.height),this._current+=(this._target-this._current)/20,Math.abs(this._current-this._target)<=.001&&(this._current=this._target),a.drawRing(b,this._styles.flip?1-this._current:this._current,this._styles.offset,this._styles.length,this._styles.gap,this._styles.size,this._styles.radius,this._styles.ringWidth,this._styles.ringColor,this._styles.progress,this._styles.ringShadow,this._styles.progressShadow,this._styles.cap)},setValue:function(b){this._styles||this._setupStyles(),b=this._transform(b),this._target!==b&&(this._target=b),a.supportsAnimation()||(this._current=this._target,this._draw())}},b}(e),f.Slot=function(a){var b=function(a){this._forceReplace="undefined"==typeof a.forceReplace?!1:a.forceReplace,this._wrapper=document.createElement("span"),this._wrapper.className="soon-slot "+(a.className||""),this._transform=a.transform||function(a){return a},this._new=document.createElement("span"),this._new.className="soon-slot-new",this._old=document.createElement("span"),this._old.className="soon-slot-old",this._bounding=document.createElement("span"),this._bounding.className="soon-slot-bounding",this._inner=document.createElement("span"),this._inner.className="soon-slot-inner soon-slot-animate",this._inner.appendChild(this._old),this._inner.appendChild(this._new),this._inner.appendChild(this._bounding),this._wrapper.appendChild(this._inner),this._newValue="",this._oldValue="",this._boundingLength=0};return b.prototype={destroy:function(){return this._wrapper},getElement:function(){return this._wrapper},_isEmpty:function(){return!this._newValue},_isSame:function(a){return this._newValue===a},_setBoundingForValue:function(a){var b=(a+"").length;if(b!==this._boundingLength){this._boundingLength=b;for(var c="",d=0;b>d;d++)c+="8";this._bounding.textContent=c;var e=parseInt(getComputedStyle(this._wrapper).fontSize,10),f=this._bounding.offsetWidth/e;this._inner.style.width=f+.1*(b-1)+"em"}},_setNewValue:function(a){this._newValue=a,this._new.textContent=a},_setOldValue:function(a){this._oldValue=a,this._old.textContent=a},setValue:function(b){b=this._transform(b),this._isEmpty()?(this._setNewValue(b),this._setBoundingForValue(b)):this._isSame(b)&&!this._forceReplace||(this._newValue.length&&this._setOldValue(this._newValue),this._setNewValue(b),this._setBoundingForValue(b),a.triggerAnimation(this._inner,"soon-slot-animate"))}},b}(e),f.Text=function(a){var b=function(a){this._wrapper=document.createElement("span"),this._wrapper.className="soon-text "+(a.className||""),this._transform=a.transform||function(a){return a}};return b.prototype={destroy:function(){return this._wrapper},getElement:function(){return this._wrapper},setValue:function(b){a.setTextContent(this._wrapper,this._transform(b))}},b}(e);var h=function(a){var b=function(a,b){b=b||{},this._rate=b.rate||1e3,this._start=null,this._time=0,this._resetting=!1,this._nextTickReference=null,this._tickBind=this._tick.bind(this),this._onTick=a||function(){}};return b.prototype={isRunning:function(){return null!==this._start},isPaused:function(){return this.isRunning()&&!this._nextTickReference},start:function(){this.isRunning()||this.reset()},getTime:function(){return this._time},reset:function(){clearTimeout(this._nextTickReference),this._start=(new Date).getTime(),this._time=0,this._tick()},stop:function(){var a=this;setTimeout(function(){clearTimeout(a._nextTickReference),a._start=null},0)},pause:function(){clearTimeout(this._nextTickReference)},resume:function(){this.isPaused()&&this._tick()},_tick:function(){var b=(new Date).getTime()-this._start-this._time;this._onTick(this._time),this._time+=this._rate,this._nextTickReference=a.setTimeout(this._tickBind,this._rate-b)}},b}(this);d.transform=g,d.soons=[],d.ticker=null,d.tickerCallbacks=[],d._getIndex=function(a){for(var b=0,c=d.soons.length;c>b;b++)if(d.soons[b].node===a)return b;return null},d._getTickerCallbackIndex=function(a){for(var b=0,c=d.tickerCallbacks.length;c>b;b++)if(d.tickerCallbacks[b].node===a)return b;return null},d.getSoon=function(a){var b=this._getIndex(a);return null===b?null:d.soons[b]},d.reset=function(a){var b=this.getSoon(a);b&&b.ticker.reset()},d.destroy=function(a){var b=this._getIndex(a);if(null!==b){var c=this._getTickerCallbackIndex(a);null!==c&&d.tickerCallbacks.splice(c,1);var e=d.soons[b];e.ticker!==d.ticker&&e.ticker.stop(),e.presenter.destroy(),e.node.removeChild(e.node.firstChild),d.soons.splice(b,1)}},d._setDefaults=function(a){-1===a.className.indexOf("soon")&&(a.className+=" soon"),e.supportsAnimation()||(a.className+=" soon-no-animation");var b=a.getAttribute("data-layout");(!b||-1===b.indexOf("group")&&-1===b.indexOf("line"))&&(b||(b=""),a.setAttribute("data-layout",b+" group")),e.isSlow()&&(a.removeAttribute("data-visual"),a.setAttribute("data-view","text"),a.className+=" soon-slow-browser")},d._getLocalDate=function(a){return new Date(a.getTime()+6e4*a.getTimezoneOffset())},d._setAttribute=function(a,b,c){b[c]&&!a.getAttribute("data-"+c)&&a.setAttribute("data-"+c,b[c])},d._getAttribute=function(a,b){return a.getAttribute("data-"+b)},d._register=function(a,b,c){d.soons.push({node:a,ticker:b,presenter:c})},d.createTicker=function(a,b){if(a.id){var c=new h(function(a){b.setValue(a)});return this._register(a,c,b),c.start(),c}return d.ticker||(d.ticker=new h(function(a){for(var b=0,c=d.tickerCallbacks.length;c>b;b++)d.tickerCallbacks[b].cb(a)})),d.tickerCallbacks.push({node:a,cb:function(a){b.setValue(a)}}),b.setValue(d.ticker.getTime()),d.ticker.start(),this._register(a,d.ticker,b),d.ticker},d.createPresenter=function(a,b){var c=this.getPresenter(b);return a.appendChild(c.getElement()),c},d.getPresenter=function(a){return new(this.getPresenterByType(a.type))(a.options||{})},d.getPresenterByType=function(a){return f[a.charAt(0).toUpperCase()+a.slice(1)]},d.createByElement=function(a){return this.create(a,{since:d._getAttribute(a,"since"),due:d._getAttribute(a,"due"),now:d._getAttribute(a,"now"),face:d._getAttribute(a,"face"),visual:d._getAttribute(a,"visual"),format:d._getAttribute(a,"format"),singular:"true"===d._getAttribute(a,"singular"),reflect:"true"===d._getAttribute(a,"reflect"),separateChars:!("false"===d._getAttribute(a,"separate-chars")),cascade:!("false"===d._getAttribute(a,"cascade")),separator:d._getAttribute(a,"separator"),labelsYears:d._getAttribute(a,"labels-years"),labelsDays:d._getAttribute(a,"labels-days"),labelsHours:d._getAttribute(a,"labels-hours"),labelsMinutes:d._getAttribute(a,"labels-minutes"),labelsSeconds:d._getAttribute(a,"labels-seconds"),labelsMilliseconds:d._getAttribute(a,"labels-milliseconds"),padding:!("false"===d._getAttribute(a,"padding")),paddingDays:d._getAttribute(a,"padding-days"),paddingHours:d._getAttribute(a,"padding-hours"),paddingMinutes:d._getAttribute(a,"padding-minutes"),paddingSeconds:d._getAttribute(a,"padding-seconds"),paddingMilliseconds:d._getAttribute(a,"padding-milliseconds"),eventComplete:d._getAttribute(a,"event-complete")})},d.create=function(a,b){d._setAttribute(a,b,"layout"),d._setAttribute(a,b,"face"),d._setAttribute(a,b,"visual"),d._setAttribute(a,b,"format");var c=(b.format||"d,h,m,s").split(","),f=(b.labelsYears||"Year,Years").split(","),g=(b.labelsDays||"Day,Days").split(","),h=(b.labelsHours||"Hour,Hours").split(","),i=(b.labelsMinutes||"Minute,Minutes").split(","),j=(b.labelsSeconds||"Second,Seconds").split(","),k=(b.labelsMilliseconds||"Millisecond,Milliseconds").split(","),l="undefined"==typeof b.padding?!0:b.padding,m={y:"",d:"",h:-1===c.indexOf("d")?"":l?"00":"",m:-1===c.indexOf("h")?"":l?"00":"",s:-1===c.indexOf("m")?"":l?"00":"",ms:-1===c.indexOf("s")?"":l?"000":""},n=(b.face||"text ").split(" ")[0],o=b.due?this._getLocalDate(new Date(b.due)):null,p=b.since?this._getLocalDate(new Date(b.since)):null,q=b.now?this._getLocalDate(new Date(b.now)):p?null:new Date,r={due:o,since:p,now:q,view:n,visual:b.visual||null,format:c,separator:b.separator||null,cascade:"undefined"==typeof b.cascade?!0:e.toBoolean(b.cascade),singular:b.singular,reflect:b.reflect||!1,chars:"undefined"==typeof b.separateChars?!0:e.toBoolean(b.separateChars),label:{y:f[0],y_s:f[1]||f[0],d:g[0],d_s:g[1]||g[0],h:h[0],h_s:h[1]||h[0],m:i[0],m_s:i[1]||i[0],s:j[0],s_s:j[1]||j[0],ms:k[0],ms_s:k[1]||k[0]},padding:{y:b.paddingYears||m.y,d:b.paddingDays||m.d,h:b.paddingHours||m.h,m:b.paddingMinutes||m.m,s:b.paddingSeconds||m.s,ms:b.paddingMilliseconds||m.ms},callback:{onComplete:"string"==typeof b.eventComplete?window[b.eventComplete]:function(){}}};e.isSlow()&&(r.view="text",r.reflect=!1,r.visual=null,r.since=b.since?d._getLocalDate(e.dateFromISO(b.since)):null,r.due=b.due?d._getLocalDate(e.dateFromISO(b.due)):null,r.now=b.now?d._getLocalDate(e.dateFromISO(b.now)):new Date);var s=null,t=this._createClockOutline(r,function(){s&&s.stop(),r.callback.onComplete()});this._setDefaults(a);var u=this.createPresenter(a,t);return s=d.createTicker(a,u)},d._createClockOutline=function(a,b){var c=null!==a.due||null!==a.since,e=null;c?a.since?(console.log(a.now),e=d.transform.chain(function(b){return a.now?-b:b},d.transform.offset(a.now?a.now.getTime():(new Date).getTime()),d.transform.diff(a.since.getTime()),function(a){return Math.abs(a)},function(a){return Math.max(0,a)},d.transform.event(function(a){return 0===a},b),d.transform.duration(a.format,a.cascade))):e=d.transform.chain(d.transform.offset(a.now.getTime()),d.transform.diff(a.due.getTime()),function(a){return Math.max(0,a)},d.transform.event(function(a){return 0===a},b),d.transform.duration(a.format,a.cascade)):(e=function(){var a=new Date;return[a.getHours(),a.getMinutes(),a.getSeconds()]},a.format=["h","m","s"],a.separator=":");for(var f,g,h,i,j,k,l,m={type:"group",options:{transform:e,presenters:[]}},n=this,o=[],p=a.format.length,q=0;p>q;q++)k=a.format[q],l=q,f={type:"group",options:{className:"soon-group-sub",presenters:[]}},a.visual&&(f.options.presenters.push(n._createVisualizer(a,k)),a.reflect&&f.options.presenters.push(n._createVisualizer(a,k,"soon-reflection"))),g={type:"text",options:{className:"soon-label"}},g.options.transform=a.singular?d.transform.plural(a.label[k],a.label[k+"_s"]):function(b){return function(){return a.label[b+"_s"]}}(k),h=n._createView(a,k),i=null,a.reflect&&!a.visual&&(i=n._createView(a,k,"soon-reflection")),"ms"===k&&(h={type:"interval",options:{target:0,presenter:h,className:"soon-milliseconds",transform:function(){return 1e3}}},i&&(i={type:"interval",options:{target:0,presenter:i,className:"soon-milliseconds",transform:function(){return 1e3}}})),f.options.presenters.push(h),i&&f.options.presenters.push(i),c&&f.options.presenters.push(g),a.separator&&(j={type:"group",options:{className:"soon-group-separator",presenters:[f]}},0!==l&&(a.reflect&&j.options.presenters.unshift({type:"text",options:{className:"soon-separator soon-reflection",transform:function(){return a.separator}}}),j.options.presenters.unshift({type:"text",options:{className:"soon-separator",transform:function(){return a.separator}}})),f=j),o.push(f);return m.options.presenters=o,m},d._createVisualizer=function(a,b,c){var f=a.visual.split(" "),g=f[0];return f.shift(),{type:g,options:{className:"soon-visual "+(c||""),transform:d.transform.progress(e.MAX[b]),modifiers:f}}},d._createView=function(a,b,c){return a.chars?{type:"repeater",options:{delay:"text"===a.view?0:50,className:"soon-value "+(c||""),transform:d.transform.chain(d.transform.pad(a.padding[b]),d.transform.chars()),presenter:{type:a.view}}}:{type:"group",options:{className:"soon-group-sub-sub soon-value "+(c||""),transform:d.transform.pad(a.padding[b]),presenters:[{type:a.view}]}}},!function(a,b){"undefined"!=typeof module?module.exports=b():"function"==typeof define&&"object"==typeof define.amd?define(b):this[a]=b()}("domready",function(a){function b(a){for(n=1;a=d.shift();)a()}var c,d=[],e=!1,f=document,g=f.documentElement,h=g.doScroll,i="DOMContentLoaded",j="addEventListener",k="onreadystatechange",l="readyState",m=h?/^loaded|^c/:/^loaded|c/,n=m.test(f[l]);return f[j]&&f[j](i,c=function(){f.removeEventListener(i,c,e),b()},e),h&&f.attachEvent(k,c=function(){/^c/.test(f[l])&&(f.detachEvent(k,c),b())}),a=h?function(b){self!=top?n?b():d.push(b):function(){try{g.doScroll("left")}catch(c){return setTimeout(function(){a(b)},50)}b()}()}:function(a){n?a():d.push(a)}}),domready(c),function(a,b){b&&(b.fn.soon=function(b){return b=b||{},this.each(function(){a.create(this,b)})},b.fn.soon.destroy=function(){return this.each(function(){a.destroy(this)})},b.fn.soon.reset=function(){return this.each(function(){a.reset(this)})})}(d,b),"undefined"!=typeof module&&module.exports?module.exports=d:"function"==typeof define&&define.amd?define(function(){return d}):a.Soon=d}}(window,window.jQuery);